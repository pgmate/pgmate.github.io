"use strict";(self.webpackChunkpgmate=self.webpackChunkpgmate||[]).push([[593],{5980:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>c});var n=o(2776),s=o(4848),a=o(8453);const i={slug:"copilot-poc",title:"PGMate Copilot POC",authors:["marcopeg"],tags:["pgmate","demo"]},r=void 0,l={authorsImageUrls:[void 0]},c=[{value:"Setup:",id:"setup",level:2},{value:"Postgres LLM Context",id:"postgres-llm-context",level:2},{value:"Plans for the Future",id:"plans-for-the-future",level:2}];function p(e){const t={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components},{YouTube:o}=t;return o||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("YouTube",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Copilot brings real-time context-aware AI to PGMate.",(0,s.jsx)(t.br,{}),"\n","It enables the ",(0,s.jsx)(t.strong,{children:"chat with your data"})," scenario with in-line code-blocks execution."]}),"\n",(0,s.jsx)(o,{videoId:"hAvWcbox7BE",title:"PGMate Copilot Demo"}),"\n",(0,s.jsxs)(t.p,{children:["There is a lot of fuzz around the ",(0,s.jsx)(t.strong,{children:"CHAT WITH YOUR DATA"})," eldorado."]}),"\n",(0,s.jsxs)(t.p,{children:["After reading an article about ",(0,s.jsx)(t.a,{href:"https://www.uber.com/en-TW/blog/query-gpt/",children:"QueryGPT at Uber"}),"\nI found myself thinking: ",(0,s.jsx)(t.em,{children:'"How hard could that be?"'})," \ud83e\udd13",(0,s.jsx)(t.br,{}),"\n","So I've decided to give it a go."]}),"\n",(0,s.jsxs)(t.p,{children:["This demo showcases what is already available to all users that ",(0,s.jsx)(t.a,{href:"https://hub.docker.com/repository/docker/pgmate/pgmate",children:"pull the PGMate image from DockerHub"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"setup",children:"Setup:"}),"\n",(0,s.jsxs)(t.p,{children:["You simply have to provide an ",(0,s.jsx)(t.a,{href:"https://community.openai.com/t/how-to-generate-openai-api-key/401363",children:"OpenAI Api Key"})," as environment variable and you are good to go:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"docker run \\\n    -p 8080:8080 \\\n    -e PGMATE_OPENAPI_KEY=xxx \\\n    pgmate/pgmate:latest-full\n"})}),"\n",(0,s.jsx)(t.h2,{id:"postgres-llm-context",children:"Postgres LLM Context"}),"\n",(0,s.jsxs)(t.p,{children:["For this first POC, Copilot uses a ",(0,s.jsx)(t.strong,{children:"one shot prompt"})," approach to try solving the user's request."]}),"\n",(0,s.jsx)(t.p,{children:"What makes it working so well is the real-time context that is injected into the conversation."}),"\n",(0,s.jsxs)(t.p,{children:["I'm having a lot of brainstorms about how to ",(0,s.jsx)(t.strong,{children:"optimize this context for accuracy and economical convenience"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"\ud83e\udd13 Because that's the real challange."}),"\n",(0,s.jsx)(t.p,{children:"Any fool can copy/paste the full context into ChatGPT and let it crunch by a powerful model.\nBut this could end up being very costly, and also may lead to inaccuracies.\nImagine overflowing the model with tens of tables metadata when the business request is only affecting 2 of those."}),"\n",(0,s.jsx)(t.p,{children:"\ud83d\udc49 Too much information is both useless and harmful."}),"\n",(0,s.jsx)(t.h2,{id:"plans-for-the-future",children:"Plans for the Future"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"For the engine"}),", the goal is to move to a multi-step agenting oriented approach:"]}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"A first agent receives a comprehensive but shallow context and is tasked to figure out which objects are needed to solve the request"}),"\n",(0,s.jsx)(t.li,{children:"A second agent receives a deep context on the resources previously identified and it is tasked with solving the reuquest"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"I plan also to introduce a goal-detection agent that would be used to navigate a prompt-tree and specialize prompts based on intentions."}),"\n",(0,s.jsx)(t.p,{children:'Last but not least, I plan to work on the conversation history introducing an agent that will digest a "compact memory" of cold messages with the goal of balancing memory and token consumptions.'}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"On the User Experience side"}),", the idea is to move the chat to be stored in the support db (now it's local storage) and enable a classic multi-conversation experience."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>i,x:()=>r});var n=o(6540);const s={},a=n.createContext(s);function i(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(a.Provider,{value:t},e.children)}},2776:e=>{e.exports=JSON.parse('{"permalink":"/blog/copilot-poc","editUrl":"https://github.com/pgmate/pgmate.github.io/tree/main/blog/2025-01-26-copilot-poc.mdx","source":"@site/blog/2025-01-26-copilot-poc.mdx","title":"PGMate Copilot POC","description":"Copilot brings real-time context-aware AI to PGMate.","date":"2025-01-26T00:00:00.000Z","tags":[{"inline":false,"label":"PGMate","permalink":"/blog/tags/pgmate","description":"PGMate Product News"},{"inline":false,"label":"Demo","permalink":"/blog/tags/demo","description":"Demos of the product"}],"readingTime":1.915,"hasTruncateMarker":true,"authors":[{"name":"Marco Pegoraro","title":"founder","url":"https://marcopeg.com","page":{"permalink":"/blog/authors/marcopeg"},"socials":{"x":"https://x.com/thepeg","linkedin":"https://www.linkedin.com/in/marcopeg/","github":"https://github.com/marcopeg","newsletter":"https://marcopeg.com"},"imageURL":"https://marcopeg.com/content/images/2021/11/image-50.png","key":"marcopeg"}],"frontMatter":{"slug":"copilot-poc","title":"PGMate Copilot POC","authors":["marcopeg"],"tags":["pgmate","demo"]},"unlisted":false,"prevItem":{"title":"Product Updates - Week 5","permalink":"/blog/updates-week5"},"nextItem":{"title":"Welcome PGMate","permalink":"/blog/welcome-pgmate"}}')}}]);